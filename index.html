<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø§Ø³Ø¨Ø© ØµÙÙ‚Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ (XAUUSD) - Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©</title>
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø¹Ø§Ù…Ø© */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­ */
            --bg-color: #f5f5f5;
            --text-color: #333;
            --container-bg: white;
            --card-bg: white;
            --input-bg: white;
            --input-border: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --header-border: #eee;
            --section-bg: #f9f9f9;
            --instructions-bg: #f8f9fa;
            --formula-bg: #f1f2f6;
            --alert-bg: #fadbd8;
            --alert-color: #c0392b;
            --alert-border: #e74c3c;
            --button-bg: #d4af37;
            --button-hover: #b8941f;
            --button-text: white;
            --gold-color: #d4af37;
            --blue-color: #3498db;
            --green-color: #2ecc71;
            --red-color: #e74c3c;
            --purple-color: #9b59b6;
            --orange-color: #e67e22;
        }
        
        .dark-mode {
            /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --container-bg: #1e1e1e;
            --card-bg: #2d2d2d;
            --input-bg: #2d2d2d;
            --input-border: #444;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --header-border: #333;
            --section-bg: #252525;
            --instructions-bg: #2a2a2a;
            --formula-bg: #3a3a3a;
            --alert-bg: #5a2a2a;
            --alert-color: #ff7b7b;
            --alert-border: #ff5252;
            --button-bg: #d4af37;
            --button-hover: #e6c158;
            --button-text: #121212;
            --gold-color: #e6c158;
            --blue-color: #64b5f6;
            --green-color: #4caf50;
            --red-color: #f44336;
            --purple-color: #ab47bc;
            --orange-color: #f39c12;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-color);
            padding: 30px;
            margin-top: 20px;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        /* Ø§Ù„ØªØ±ÙˆÙŠØ³Ø© */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--header-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .header-content {
            flex: 1;
        }
        
        h1 {
            color: var(--gold-color);
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        
        .subtitle {
            color: var(--text-color);
            opacity: 0.8;
            font-size: 1.1rem;
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 15px;
        }
        
        /* Ø²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ† */
        .theme-toggle {
            background-color: var(--card-bg);
            border: 1px solid var(--input-border);
            color: var(--text-color);
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .theme-toggle:hover {
            background-color: var(--gold-color);
            color: var(--button-text);
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§ØªØ¬Ø§Ù‡ */
        .direction-buttons {
            display: flex;
            margin-bottom: 25px;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid var(--input-border);
        }
        
        .direction-btn {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 18px;
            transition: all 0.3s;
            border: none;
            background-color: var(--section-bg);
            color: var(--text-color);
        }
        
        .direction-btn.active {
            background-color: var(--green-color);
            color: white;
        }
        
        .direction-btn.sell.active {
            background-color: var(--red-color);
            color: white;
        }
        
        .direction-btn:hover:not(.active) {
            background-color: var(--input-bg);
        }
        
        /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø§ØªØ¬Ø§Ù‡ */
        .direction-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 10px;
            font-size: 0.9rem;
        }
        
        .buy-indicator {
            background-color: var(--green-color);
            color: white;
        }
        
        .sell-indicator {
            background-color: var(--red-color);
            color: white;
        }
        
        /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .input-section {
            background-color: var(--section-bg);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
            border-right: 5px solid var(--gold-color);
            transition: background-color 0.3s;
        }
        
        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .input-field {
            flex: 1;
            min-width: 250px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-color);
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--input-bg);
            color: var(--text-color);
            border: 1px solid var(--input-border);
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s, background-color 0.3s, color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: var(--gold-color);
        }
        
        .auto-calc-note {
            font-size: 0.9rem;
            color: var(--gold-color);
            margin-top: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .calculate-btn {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            display: block;
            margin: 0 auto;
            font-weight: bold;
        }
        
        .calculate-btn:hover {
            background-color: var(--button-hover);
        }
        
        /* Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .results-section {
            display: none;
        }
        
        .results-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 25px;
            color: var(--text-color);
        }
        
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .result-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 3px 10px var(--shadow-color);
            border-top: 4px solid;
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        
        .result-title {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-value {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
        
        /* ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .entry {
            border-top-color: var(--green-color);
        }
        
        .entry .result-value {
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--green-color);
        }
        
        .dark-mode .entry .result-value {
            background-color: rgba(76, 175, 80, 0.2);
        }
        
        .stop-loss {
            border-top-color: var(--red-color);
        }
        
        .stop-loss .result-value {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--red-color);
        }
        
        .dark-mode .stop-loss .result-value {
            background-color: rgba(244, 67, 54, 0.2);
        }
        
        .target {
            border-top-color: var(--blue-color);
        }
        
        .target .result-value {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--blue-color);
        }
        
        .dark-mode .target .result-value {
            background-color: rgba(100, 181, 246, 0.2);
        }
        
        .bottom-area {
            border-top-color: var(--purple-color);
        }
        
        .bottom-area .result-value {
            background-color: rgba(155, 89, 182, 0.1);
            color: var(--purple-color);
        }
        
        .dark-mode .bottom-area .result-value {
            background-color: rgba(171, 71, 188, 0.2);
        }
        
        .rebound {
            border-top-color: var(--orange-color);
        }
        
        .rebound .result-value {
            background-color: rgba(230, 126, 34, 0.1);
            color: var(--orange-color);
        }
        
        .dark-mode .rebound .result-value {
            background-color: rgba(243, 156, 18, 0.2);
        }
        
        /* ÙƒÙŠÙ ØªØ³ØªØ®Ø¯Ù… */
        .instructions {
            background-color: var(--instructions-bg);
            border-radius: 8px;
            padding: 25px;
            margin-top: 40px;
            border-right: 5px solid var(--blue-color);
            transition: background-color 0.3s;
        }
        
        .instructions h3 {
            color: var(--blue-color);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .instructions ol {
            padding-right: 20px;
            margin-bottom: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            padding-right: 10px;
        }
        
        .formula {
            background-color: var(--formula-bg);
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            text-align: center;
            font-size: 1.1rem;
            overflow-x: auto;
            transition: background-color 0.3s;
        }
        
        /* ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }
        
        .alert.error {
            background-color: var(--alert-bg);
            color: var(--alert-color);
            border-right: 5px solid var(--alert-border);
        }
        
        /* Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Ø§Ù„ØªØ°ÙŠÙŠÙ„ */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--header-border);
            color: var(--text-color);
            opacity: 0.7;
            font-size: 0.9rem;
        }
        
        /* Ø§Ù„ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            header {
                flex-direction: column;
                gap: 15px;
            }
            
            .controls {
                flex-direction: column;
                width: 100%;
            }
            
            .theme-toggle, .direction-buttons {
                width: 100%;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-field {
                min-width: 100%;
            }
        }
    </style>
</head>
<body class="light-mode">
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Ø­Ø§Ø³Ø¨Ø© ØµÙÙ‚Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ (XAUUSD)</h1>
                <p class="subtitle">Ø­Ø³Ø§Ø¨ ØµÙÙ‚Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ© Ø¹Ù„Ù‰ ÙØ±ÙŠÙ… Ø§Ù„Ø£Ø±Ø¨Ø¹ Ø³Ø§Ø¹Ø§Øª</p>
                
                <div class="controls">
                    <div class="direction-buttons">
                        <button id="buyBtn" class="direction-btn active" data-direction="buy">ğŸ”¼ ØµÙÙ‚Ø§Øª Ø§Ù„Ø´Ø±Ø§Ø¡</button>
                        <button id="sellBtn" class="direction-btn sell" data-direction="sell">ğŸ”½ ØµÙÙ‚Ø§Øª Ø§Ù„Ø¨ÙŠØ¹</button>
                    </div>
                    
                    <button id="themeToggle" class="theme-toggle">
                        <span id="themeIcon">ğŸŒ™</span>
                        <span id="themeText">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</span>
                    </button>
                </div>
            </div>
        </header>
        
        <section class="input-section">
            <h2>
                <span id="directionIndicator" class="direction-indicator buy-indicator">Ø´Ø±Ø§Ø¡</span>
                Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙÙ‚Ø©
            </h2>
            
            <div class="input-group">
                <div class="input-field">
                    <label for="peakPrice" id="peakPriceLabel">Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)</label>
                    <input type="number" id="peakPrice" placeholder="Ù…Ø«Ø§Ù„: 2050.50" step="0.01" min="0">
                    <div class="auto-calc-note" id="peakNote">âš ï¸ Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©</div>
                </div>
                
                <div class="input-field">
                    <label for="bottomPrice" id="bottomPriceLabel">Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„ÙØ¹Ù„ÙŠ (Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯)</label>
                    <input type="number" id="bottomPrice" placeholder="Ù…Ø«Ø§Ù„: 1980.25" step="0.01" min="0">
                    <div class="auto-calc-note" id="bottomNote">ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</div>
                </div>
            </div>
            
            <button id="calculateBtn" class="calculate-btn">Ø§Ø­Ø³Ø¨ Ø§Ù„ØµÙÙ‚Ø©</button>
            
            <div id="errorAlert" class="alert error">
                ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ… ØµØ­ÙŠØ­Ø© (Ø£Ø±Ù‚Ø§Ù… Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„ØµÙØ±) ÙÙŠ ÙƒÙ„Ø§ Ø§Ù„Ø­Ù‚Ù„ÙŠÙ†.
            </div>
        </section>
        
        <section id="resultsSection" class="results-section">
            <h2 class="results-header">
                <span id="resultsDirectionIndicator" class="direction-indicator buy-indicator">Ø´Ø±Ø§Ø¡</span>
                Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø§Ø¨ Ø§Ù„ØµÙÙ‚Ø©
            </h2>
            <div class="results-container">
                <div class="result-card bottom-area">
                    <div class="result-title">
                        <span id="areaIcon1">ğŸ“Š</span>
                        <span id="areaTitle1">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</span>
                    </div>
                    <p id="areaDesc1">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²</p>
                    <div id="bottomArea" class="result-value">-</div>
                </div>
                
                <div class="result-card entry">
                    <div class="result-title">
                        <span id="areaIcon2">ğŸ“ˆ</span>
                        <span id="areaTitle2">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø´Ø±Ø§Ø¡</span>
                    </div>
                    <p id="areaDesc2">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙŠÙ†: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.25)Â² Ùˆ (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.5)Â²</p>
                    <div id="entryArea" class="result-value">-</div>
                </div>
                
                <div class="result-card rebound">
                    <div class="result-title">
                        <span id="areaIcon3">ğŸ”„</span>
                        <span id="areaTitle3">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡</span>
                    </div>
                    <p id="areaDesc3">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.75)Â²</p>
                    <div id="reboundArea" class="result-value">-</div>
                </div>
                
                <div class="result-card stop-loss">
                    <div class="result-title">
                        <span id="areaIcon4">âš ï¸</span>
                        <span id="areaTitle4">ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©</span>
                    </div>
                    <p id="areaDesc4">ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø£Ø³ÙÙ„ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: Ø£Ù‚Ù„ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹</p>
                    <div id="stopLoss" class="result-value">-</div>
                </div>
                
                <div class="result-card target">
                    <div class="result-title">
                        <span id="areaIcon5">ğŸ¯</span>
                        <span id="areaTitle5">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„</span>
                    </div>
                    <p id="areaDesc5">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„: Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ã· 0.97</p>
                    <div id="target1" class="result-value">-</div>
                </div>
                
                <div class="result-card target">
                    <div class="result-title">
                        <span id="areaIcon6">ğŸ¯</span>
                        <span id="areaTitle6">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ</span>
                    </div>
                    <p id="areaDesc6">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)</p>
                    <div id="target2" class="result-value">-</div>
                </div>
                
                <div class="result-card target">
                    <div class="result-title">
                        <span id="areaIcon7">ğŸ¯</span>
                        <span id="areaTitle7">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«</span>
                    </div>
                    <p id="areaDesc7">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) + 0.75)Â²</p>
                    <div id="target3" class="result-value">-</div>
                </div>
            </div>
        </section>
        
        <section class="instructions">
            <h3>ğŸ“‹ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</h3>
            <ol>
                <li>Ø§Ø®ØªØ± Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙÙ‚Ø©: <strong>Ø´Ø±Ø§Ø¡</strong> Ø£Ùˆ <strong>Ø¨ÙŠØ¹</strong> Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰</li>
                <li>Ø£Ø¯Ø®Ù„ <strong id="instructionPeak">Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)</strong></li>
                <li>Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ø³ÙŠØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ØŒ ÙˆÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡ ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±</li>
                <li>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± <strong>"Ø§Ø­Ø³Ø¨ Ø§Ù„ØµÙÙ‚Ø©"</strong> Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</li>
                <li>Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬ ÙÙŠ ØµÙÙ‚ØªÙƒ</li>
                <li>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­ ÙˆØ§Ù„Ø¯Ø§ÙƒÙ† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø²Ø± Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©</li>
            </ol>
            
            <h3>ğŸ“Š Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</h3>
            <div class="formula" id="formula1">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²</div>
            <div class="formula" id="formula2">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ = Ø¨ÙŠÙ† (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.25)Â² Ùˆ (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.5)Â²</div>
            <div class="formula" id="formula3">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡ = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.75)Â²</div>
            <div class="formula" id="formula4">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„ = Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ã· 0.97</div>
            <div class="formula" id="formula5">Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø« = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) + 0.75)Â²</div>
            
            <h3>ğŸ’¡ ØªÙØ³ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
            <ul id="resultsExplanation">
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</strong>: Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙŠ ÙŠØªÙˆÙ‚Ø¹ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¹Ù†Ø¯Ù‡Ø§ Ø§Ù„Ù‡Ø¨ÙˆØ·</li>
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø´Ø±Ø§Ø¡</strong>: Ø£ÙØ¶Ù„ Ù…Ù†Ø·Ù‚Ø© Ù„ÙØªØ­ ØµÙÙ‚Ø© Ø´Ø±Ø§Ø¡ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯</li>
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡</strong>: Ù…Ù†Ø·Ù‚Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø£Ø¹Ù„Ù‰</li>
                <li><strong>ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©</strong>: ÙŠØ¬Ø¨ ÙˆØ¶Ø¹Ù‡ Ø£Ø³ÙÙ„ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© Ù„Ø­Ù…Ø§ÙŠØ© Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„</li>
                <li><strong>Ø§Ù„Ø£Ù‡Ø¯Ø§Ù</strong>: Ù…Ø³ØªÙˆÙŠØ§Øª Ø¬Ù†ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©</li>
            </ul>
            
            <h3>ğŸ”„ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆØ¶Ø¹ Ø§Ù„Ø¨ÙŠØ¹ (Ù…Ø¹ÙƒÙˆØ³Ø©)</h3>
            <ul id="sellFormulas">
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</strong>: (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) Ã— 1.03)Â² (Ø¹ÙƒØ³ 0.97 Ø¥Ù„Ù‰ 1.03)</li>
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙŠØ¹</strong>: Ø¨ÙŠÙ† (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.5)Â² Ùˆ (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.25)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)</li>
                <li><strong>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø¨ÙŠØ¹</strong>: (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.75)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)</li>
                <li><strong>Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„</strong>: Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ã— 0.97 (Ø¹ÙƒØ³ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¥Ù„Ù‰ Ø¶Ø±Ø¨)</li>
                <li><strong>Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«</strong>: (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) - 0.75)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)</li>
            </ul>
            
            <p style="margin-top: 15px; font-style: italic; opacity: 0.8;">
                Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙÙ†ÙŠ ÙˆÙ„Ø§ ØªØ¶Ø±Ø¨ Ø§Ù„Ø±Ø¨Ø­. ØªØ°ÙƒØ± Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø©.
            </p>
        </section>
    </div>
    
    <footer>
        <p>Â© 2023 Ø­Ø§Ø³Ø¨Ø© ØµÙÙ‚Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ (XAUUSD) - Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¬Ø°ÙˆØ± Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ© | Ù„Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙÙ‚Ø·</p>
    </footer>

    <script>
        // Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„ØµÙØ­Ø©
        const calculateBtn = document.getElementById('calculateBtn');
        const resultsSection = document.getElementById('resultsSection');
        const errorAlert = document.getElementById('errorAlert');
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        const peakPriceInput = document.getElementById('peakPrice');
        const bottomPriceInput = document.getElementById('bottomPrice');
        const buyBtn = document.getElementById('buyBtn');
        const sellBtn = document.getElementById('sellBtn');
        
        // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        const bottomAreaElement = document.getElementById('bottomArea');
        const entryAreaElement = document.getElementById('entryArea');
        const reboundAreaElement = document.getElementById('reboundArea');
        const stopLossElement = document.getElementById('stopLoss');
        const target1Element = document.getElementById('target1');
        const target2Element = document.getElementById('target2');
        const target3Element = document.getElementById('target3');
        
        // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        const directionIndicator = document.getElementById('directionIndicator');
        const resultsDirectionIndicator = document.getElementById('resultsDirectionIndicator');
        const peakPriceLabel = document.getElementById('peakPriceLabel');
        const bottomPriceLabel = document.getElementById('bottomPriceLabel');
        const peakNote = document.getElementById('peakNote');
        const bottomNote = document.getElementById('bottomNote');
        
        // Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        const areaTitle1 = document.getElementById('areaTitle1');
        const areaTitle2 = document.getElementById('areaTitle2');
        const areaTitle3 = document.getElementById('areaTitle3');
        const areaTitle4 = document.getElementById('areaTitle4');
        const areaTitle5 = document.getElementById('areaTitle5');
        const areaTitle6 = document.getElementById('areaTitle6');
        const areaTitle7 = document.getElementById('areaTitle7');
        
        // Ø£ÙˆØµØ§Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        const areaDesc1 = document.getElementById('areaDesc1');
        const areaDesc2 = document.getElementById('areaDesc2');
        const areaDesc3 = document.getElementById('areaDesc3');
        const areaDesc4 = document.getElementById('areaDesc4');
        const areaDesc5 = document.getElementById('areaDesc5');
        const areaDesc6 = document.getElementById('areaDesc6');
        const areaDesc7 = document.getElementById('areaDesc7');
        
        // Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
        const areaIcon1 = document.getElementById('areaIcon1');
        const areaIcon2 = document.getElementById('areaIcon2');
        const areaIcon3 = document.getElementById('areaIcon3');
        const areaIcon4 = document.getElementById('areaIcon4');
        const areaIcon5 = document.getElementById('areaIcon5');
        const areaIcon6 = document.getElementById('areaIcon6');
        const areaIcon7 = document.getElementById('areaIcon7');
        
        // Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª
        const formula1 = document.getElementById('formula1');
        const formula2 = document.getElementById('formula2');
        const formula3 = document.getElementById('formula3');
        const formula4 = document.getElementById('formula4');
        const formula5 = document.getElementById('formula5');
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØªØ¨Ø¹
        let isBottomManuallyChanged = false;
        let isDarkMode = localStorage.getItem('darkMode') === 'true';
        let currentDirection = 'buy'; // 'buy' Ø£Ùˆ 'sell'
        
        // ØªØ·Ø¨ÙŠÙ‚ ÙˆØ¶Ø¹ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', function() {
            applyTheme();
            updateDirectionUI();
            
            // ØªØ¹Ø¨Ø¦Ø© Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ù‚ÙŠÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ù…Ø«Ø§Ù„ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ
            peakPriceInput.value = '2050.50';
            bottomPriceInput.value = '1980.25';
            
            // Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            calculateBottomPrice();
        });
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        function validateInputs(peakPrice, bottomPrice) {
            if (!peakPrice || !bottomPrice || peakPrice <= 0 || bottomPrice <= 0) {
                return false;
            }
            return true;
        }
        
        // Ø¯Ø§Ù„Ø© ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„Ø±Ù‚Ù… Ø¥Ù„Ù‰ Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†
        function roundToTwoDecimals(num) {
            return Math.round(num * 100) / 100;
        }
        
        // Ø¯Ø§Ù„Ø© Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ (Ù„Ù„Ø´Ø±Ø§Ø¡)
        function calculateBottomPrice() {
            const peakPrice = parseFloat(peakPriceInput.value);
            
            if (!peakPrice || peakPrice <= 0) {
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© Ù„Ù„Ø´Ø±Ø§Ø¡: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²
            // Ù„Ù„Ø¨ÙŠØ¹: Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) Ã— 1.03)Â²
            let calculatedPrice;
            
            if (currentDirection === 'buy') {
                const sqrtPeak = Math.sqrt(peakPrice);
                calculatedPrice = Math.pow(sqrtPeak * 0.97, 2);
            } else {
                // Ù„Ù„Ø¨ÙŠØ¹ØŒ Ù†Ø­ØªØ§Ø¬ Ù„Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ù…Ù† Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹
                const sqrtBottom = Math.sqrt(parseFloat(bottomPriceInput.value) || 0);
                if (sqrtBottom) {
                    calculatedPrice = Math.pow(sqrtBottom * 1.03, 2);
                } else {
                    return;
                }
            }
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ ÙŠØ¯ÙˆÙŠÙ‹Ø§
            if (!isBottomManuallyChanged) {
                if (currentDirection === 'buy') {
                    bottomPriceInput.value = roundToTwoDecimals(calculatedPrice).toFixed(2);
                } else {
                    peakPriceInput.value = roundToTwoDecimals(calculatedPrice).toFixed(2);
                }
            }
        }
        
        // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø­Ø³Ø¨ Ø§Ù„Ø§ØªØ¬Ø§Ù‡
        function updateDirectionUI() {
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§ØªØ¬Ø§Ù‡
            if (currentDirection === 'buy') {
                buyBtn.classList.add('active');
                sellBtn.classList.remove('active');
                directionIndicator.textContent = 'Ø´Ø±Ø§Ø¡';
                directionIndicator.className = 'direction-indicator buy-indicator';
                resultsDirectionIndicator.textContent = 'Ø´Ø±Ø§Ø¡';
                resultsDirectionIndicator.className = 'direction-indicator buy-indicator';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ³Ù…ÙŠØ§Øª
                peakPriceLabel.textContent = 'Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)';
                bottomPriceLabel.textContent = 'Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„ÙØ¹Ù„ÙŠ (Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯)';
                peakNote.textContent = 'âš ï¸ Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©';
                bottomNote.textContent = 'ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§';
                
                // ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
                areaTitle1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©';
                areaTitle2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø´Ø±Ø§Ø¡';
                areaTitle3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡';
                areaTitle5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„';
                areaTitle6.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ';
                areaTitle7.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«';
                
                // ØªØ­Ø¯ÙŠØ« Ø£ÙˆØµØ§Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
                areaDesc1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²';
                areaDesc2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙŠÙ†: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.25)Â² Ùˆ (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.5)Â²';
                areaDesc3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.75)Â²';
                areaDesc4.textContent = 'ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø£Ø³ÙÙ„ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: Ø£Ù‚Ù„ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹';
                areaDesc5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„: Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ã· 0.97';
                areaDesc6.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)';
                areaDesc7.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) + 0.75)Â²';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
                areaIcon1.textContent = 'ğŸ“Š';
                areaIcon2.textContent = 'ğŸ“ˆ';
                areaIcon3.textContent = 'ğŸ”„';
                areaIcon5.textContent = 'ğŸ¯';
                areaIcon6.textContent = 'ğŸ¯';
                areaIcon7.textContent = 'ğŸ¯';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª
                formula1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²';
                formula2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ = Ø¨ÙŠÙ† (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.25)Â² Ùˆ (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.5)Â²';
                formula3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡ = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.75)Â²';
                formula4.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„ = Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ã· 0.97';
                formula5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø« = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) + 0.75)Â²';
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨ÙŠØ¹
                document.getElementById('sellFormulas').style.display = 'block';
                
            } else {
                buyBtn.classList.remove('active');
                sellBtn.classList.add('active');
                directionIndicator.textContent = 'Ø¨ÙŠØ¹';
                directionIndicator.className = 'direction-indicator sell-indicator';
                resultsDirectionIndicator.textContent = 'Ø¨ÙŠØ¹';
                resultsDirectionIndicator.className = 'direction-indicator sell-indicator';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ³Ù…ÙŠØ§Øª
                peakPriceLabel.textContent = 'Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØµØ¹ÙˆØ¯ (Ø§Ù„Ù‚Ø§Ø¹)';
                bottomPriceLabel.textContent = 'Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ø¨Ø¹Ø¯ Ø§Ù„Ù‡Ø¨ÙˆØ·)';
                peakNote.textContent = 'âš ï¸ Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹';
                bottomNote.textContent = 'ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§';
                
                // ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
                areaTitle1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©';
                areaTitle2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙŠØ¹';
                areaTitle3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø¨ÙŠØ¹';
                areaTitle5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ø¨ÙŠØ¹';
                areaTitle6.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ Ù„Ù„Ø¨ÙŠØ¹';
                areaTitle7.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø« Ù„Ù„Ø¨ÙŠØ¹';
                
                // ØªØ­Ø¯ÙŠØ« Ø£ÙˆØµØ§Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
                areaDesc1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) Ã— 1.03)Â²';
                areaDesc2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙŠÙ†: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.5)Â² Ùˆ (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.25)Â²';
                areaDesc3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.75)Â²';
                areaDesc4.textContent = 'ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø© ÙÙˆÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©: Ø£Ø¹Ù„Ù‰ Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø©';
                areaDesc5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„: Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ã— 0.97';
                areaDesc6.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØµØ¹ÙˆØ¯ (Ø§Ù„Ù‚Ø§Ø¹)';
                areaDesc7.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) - 0.75)Â²';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
                areaIcon1.textContent = 'ğŸ“Š';
                areaIcon2.textContent = 'ğŸ“‰';
                areaIcon3.textContent = 'ğŸ”„';
                areaIcon5.textContent = 'ğŸ¯';
                areaIcon6.textContent = 'ğŸ¯';
                areaIcon7.textContent = 'ğŸ¯';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª
                formula1.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) Ã— 1.03)Â²';
                formula2.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ = Ø¨ÙŠÙ† (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.5)Â² Ùˆ (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.25)Â²';
                formula3.textContent = 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø¨ÙŠØ¹ = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.75)Â²';
                formula4.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„ = Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ã— 0.97';
                formula5.textContent = 'Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø« = (âˆš(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) - 0.75)Â²';
                
                // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨ÙŠØ¹
                document.getElementById('sellFormulas').style.display = 'none';
            }
        }
        
        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function calculateTrade() {
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ… Ù…Ù† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            const peakPrice = parseFloat(peakPriceInput.value);
            const bottomPrice = parseFloat(bottomPriceInput.value);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            if (!validateInputs(peakPrice, bottomPrice)) {
                errorAlert.style.display = 'block';
                resultsSection.classList.remove('active');
                return;
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚ÙŠÙ… ØµØ§Ù„Ø­Ø©
            errorAlert.style.display = 'none';
            
            let bottomArea, firstReboundArea, entryUpperLimit, reboundArea, stopLoss, target1, target2, target3;
            
            if (currentDirection === 'buy') {
                // 1. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) Ã— 0.97)Â²
                const sqrtPeak = Math.sqrt(peakPrice);
                bottomArea = Math.pow(sqrtPeak * 0.97, 2);
                
                // 2. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµØ¹ÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„Ù‰: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.25)Â²
                const sqrtBottom = Math.sqrt(bottomPrice);
                firstReboundArea = Math.pow(sqrtBottom + 0.25, 2);
                
                // 3. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.5)Â²
                entryUpperLimit = Math.pow(sqrtBottom + 0.5, 2);
                
                // 4. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø´Ø±Ø§Ø¡: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) + 0.75)Â²
                reboundArea = Math.pow(sqrtBottom + 0.75, 2);
                
                // 5. Ø­Ø³Ø§Ø¨ ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©: Ø£Ø³ÙÙ„ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© (Ù†Ø·Ø±Ø­ 1% Ù…Ù† Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ø§Ø¹)
                stopLoss = roundToTwoDecimals(bottomArea * 0.99);
                
                // 6. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
                target1 = roundToTwoDecimals(bottomPrice / 0.97); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„: Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹ Ã· 0.97
                target2 = roundToTwoDecimals(peakPrice); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù‡Ø¨ÙˆØ· (Ø§Ù„Ù‚Ù…Ø©)
                target3 = Math.pow(sqrtPeak + 0.75, 2); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) + 0.75)Â²
                
            } else {
                // ÙˆØ¶Ø¹ Ø§Ù„Ø¨ÙŠØ¹ - Ø¹ÙƒØ³ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª
                
                // 1. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) Ã— 1.03)Â² (Ø¹ÙƒØ³ 0.97 Ø¥Ù„Ù‰ 1.03)
                const sqrtBottom = Math.sqrt(bottomPrice);
                bottomArea = Math.pow(sqrtBottom * 1.03, 2);
                
                // 2. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‡Ø¨ÙˆØ· Ø§Ù„Ø£ÙˆÙ„Ù‰: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.25)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)
                const sqrtPeak = Math.sqrt(peakPrice);
                firstReboundArea = Math.pow(sqrtPeak - 0.25, 2);
                
                // 3. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.5)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)
                entryUpperLimit = Math.pow(sqrtPeak - 0.5, 2);
                
                // 4. Ø­Ø³Ø§Ø¨ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø¨ÙŠØ¹: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø©) - 0.75)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)
                reboundArea = Math.pow(sqrtPeak - 0.75, 2);
                
                // 5. Ø­Ø³Ø§Ø¨ ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©: ÙÙˆÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø© Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø© (Ù†Ø¶ÙŠÙ 1% Ø¥Ù„Ù‰ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø©)
                stopLoss = roundToTwoDecimals(bottomArea * 1.01);
                
                // 6. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
                target1 = roundToTwoDecimals(peakPrice * 0.97); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø£ÙˆÙ„: Ø³Ø¹Ø± Ø§Ù„Ù‚Ù…Ø© Ã— 0.97 (Ø¹ÙƒØ³ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¥Ù„Ù‰ Ø¶Ø±Ø¨)
                target2 = roundToTwoDecimals(bottomPrice); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø³Ø¹Ø± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØµØ¹ÙˆØ¯ (Ø§Ù„Ù‚Ø§Ø¹)
                target3 = Math.pow(sqrtBottom - 0.75, 2); // Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø«Ø§Ù„Ø«: (Ø¬Ø°Ø±(Ø³Ø¹Ø± Ø§Ù„Ù‚Ø§Ø¹) - 0.75)Â² (Ø¹ÙƒØ³ Ø§Ù„Ø¬Ù…Ø¹ Ø¥Ù„Ù‰ Ø·Ø±Ø­)
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©
            bottomAreaElement.textContent = roundToTwoDecimals(bottomArea).toFixed(2);
            
            if (currentDirection === 'buy') {
                entryAreaElement.textContent = `${roundToTwoDecimals(firstReboundArea).toFixed(2)} - ${roundToTwoDecimals(entryUpperLimit).toFixed(2)}`;
            } else {
                entryAreaElement.textContent = `${roundToTwoDecimals(entryUpperLimit).toFixed(2)} - ${roundToTwoDecimals(firstReboundArea).toFixed(2)}`;
            }
            
            reboundAreaElement.textContent = roundToTwoDecimals(reboundArea).toFixed(2);
            stopLossElement.textContent = stopLoss.toFixed(2);
            target1Element.textContent = target1.toFixed(2);
            target2Element.textContent = target2.toFixed(2);
            target3Element.textContent = roundToTwoDecimals(target3).toFixed(2);
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            resultsSection.classList.add('active');
            
            // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Ø¯Ø§Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†/Ø§Ù„ÙØ§ØªØ­
        function applyTheme() {
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                document.body.classList.remove('light-mode');
                themeIcon.textContent = 'â˜€ï¸';
                themeText.textContent = 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­';
            } else {
                document.body.classList.remove('dark-mode');
                document.body.classList.add('light-mode');
                themeIcon.textContent = 'ğŸŒ™';
                themeText.textContent = 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†';
            }
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†/Ø§Ù„ÙØ§ØªØ­
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            localStorage.setItem('darkMode', isDarkMode);
            applyTheme();
        }
        
        // ØªØºÙŠÙŠØ± Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙÙ‚Ø©
        function changeDirection(direction) {
            currentDirection = direction;
            isBottomManuallyChanged = false;
            updateDirectionUI();
            calculateBottomPrice();
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø²Ø±
        calculateBtn.addEventListener('click', calculateTrade);
        
        // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹
        themeToggle.addEventListener('click', toggleTheme);
        
        // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø§ØªØ¬Ø§Ù‡
        buyBtn.addEventListener('click', () => changeDirection('buy'));
        sellBtn.addEventListener('click', () => changeDirection('sell'));
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù‚ÙŠÙ…
        peakPriceInput.addEventListener('input', function() {
            if (currentDirection === 'buy') {
                calculateBottomPrice();
            }
        });
        
        bottomPriceInput.addEventListener('input', function() {
            if (currentDirection === 'sell') {
                calculateBottomPrice();
            }
            isBottomManuallyChanged = true;
        });
        
        // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter ÙÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        peakPriceInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') calculateTrade();
        });
        
        bottomPriceInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') calculateTrade();
        });
    </script>
</body>
</html>
